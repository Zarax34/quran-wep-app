{% extends "base.html" %}

{% block content %}
<div class="page-transition">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2"><i class="fas fa-hand-holding-heart"></i> Ø§Ø¯Ø¹Ù… Ø§Ù„Ù…Ø±ÙƒØ²</h1>
    </div>

    <div class="row fade-in">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0"><i class="fas fa-donate"></i> ØªØ¨Ø±Ø¹ Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø±ÙƒØ²</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <h6><i class="fas fa-info-circle"></i> Ø£Ù‡Ù…ÙŠØ© Ø§Ù„Ø¯Ø¹Ù…:</h6>
                        <p class="mb-0">
                            {{ settings.support_message or 'Ù†ÙˆØ±ÙŒ Ù†ÙÙ‡Ø¯ÙŠÙ‡ ÙˆØ¬ÙŠÙ„ Ù†Ø±Ø¨ÙŠÙ‡' }}
                        </p>
                    </div>

                    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
                    <div class="mb-4">
                        <h5><i class="fas fa-map-marker-alt"></i> Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø±ÙƒØ²</h5>
                        <div class="card bg-light">
                            <div class="card-body text-force-dark">
                                <p class="mb-2 text-dark">
                                    <i class="fas fa-location-dot text-primary"></i>
                                    {{ settings.location_address or 'Ù…Ø£Ø±Ø¨ - Ø´Ø§Ø±Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø¹ÙŠÙ† - Ø®Ù„Ù Ù…Ø³ØªØ´ÙÙ‰ Ù†ÙŠÙˆÙ…' }}
                                </p>
                                {% if settings.location_map_url %}
                                <a href="{{ settings.location_map_url }}" target="_blank" class="btn btn-primary btn-sm">
                                    <i class="fas fa-map"></i> Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    {% if settings.support_bank_accounts %}
                    <div class="mb-4">
                        <h5><i class="fas fa-university"></i> Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¨Ù†ÙˆÙƒ</h5>
                        <div class="card bg-light">
                            <div class="card-body">
                                <div class="bank-accounts text-dark" style="font-family: 'Courier New', monospace; line-height: 1.8;">
                                    {{ settings.support_bank_accounts }}
                                </div>
                            </div>
                        </div>
                        <div class="mt-2">
                            <button class="btn btn-outline-primary btn-sm" onclick="copyBankAccounts()">
                                <i class="fas fa-copy"></i> Ù†Ø³Ø® Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
                            </button>
                        </div>
                    </div>
                    {% endif %}

                    <div class="row">
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-book-open fa-3x text-primary mb-3"></i>
                                    <h5 class="text-dark">Ø§Ù„ÙƒØªØ¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h5>
                                    <p class="text-muted">ØªÙˆÙÙŠØ± Ø§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ù„Ù„Ø·Ù„Ø§Ø¨</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-laptop fa-3x text-info mb-3"></i>
                                    <h5 class="text-dark">Ø§Ù„ØªØ¬Ù‡ÙŠØ²Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©</h5>
                                    <p class="text-muted">ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-user-graduate fa-3x text-success mb-3"></i>
                                    <h5 class="text-dark">Ø§Ù„Ù…Ù†Ø­ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h5>
                                    <p class="text-muted">Ø¯Ø¹Ù… Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ†</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-hands-helping fa-3x text-warning mb-3"></i>
                                    <h5 class="text-dark">Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ·ÙˆØ¹</h5>
                                    <p class="text-muted">Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card slide-in-left">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0"><i class="fas fa-question-circle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯Ø¹Ù…</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <h6>Ø·Ø±Ù‚ Ø§Ù„Ø¯Ø¹Ù…:</h6>
                        <ul>
                            <li>Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨Ù†ÙƒÙŠ</li>
                            <li>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹ÙŠÙ†ÙŠ</li>
                            <li>Ø§Ù„ØªØ·ÙˆØ¹</li>
                            <li>Ù†Ø´Ø± Ø§Ù„Ø®ÙŠØ±</li>
                        </ul>
                    </div>

                    <div class="mb-3">
                        <h6>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±:</h6>
                        {% if settings.contact_phone %}
                        <p><i class="fas fa-phone"></i> {{ settings.contact_phone }}</p>
                        {% endif %}
                        {% if settings.contact_email %}
                        <p><i class="fas fa-envelope"></i> {{ settings.contact_email }}</p>
                        {% endif %}
                    </div>

                    <div class="alert alert-success">
                        <small>
                            <i class="fas fa-lightbulb"></i>
                            "{{ settings.support_message or 'Ù†ÙˆØ±ÙŒ Ù†ÙÙ‡Ø¯ÙŠÙ‡ ÙˆØ¬ÙŠÙ„ Ù†Ø±Ø¨ÙŠÙ‡' }}"
                        </small>
                    </div>

                    <div class="text-center">
                        <a href="{{ url_for('dashboard') }}" class="btn btn-primary btn-hover">
                            <i class="fas fa-home me-2"></i>Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                        </a>
                    </div>
                </div>
            </div>

            <div class="card mt-4 slide-in-left">
                <div class="card-header bg-info text-white">
                    <h5 class="card-title mb-0"><i class="fas fa-share-alt"></i> Ø§Ù†Ø´Ø± Ø§Ù„Ø®ÙŠØ±</h5>
                </div>
                <div class="card-body text-center">
                    <p class="mb-3">Ø³Ø§Ø¹Ø¯ ÙÙŠ Ù†Ø´Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø±ÙƒØ² Ø¨ÙŠÙ† Ù…Ø¹Ø§Ø±ÙÙƒ ÙˆØ£ØµØ¯Ù‚Ø§Ø¦Ùƒ</p>
                    <div class="btn-group w-100 mb-3">
                        <button class="btn btn-success" onclick="shareOnWhatsApp()">
                            <i class="fab fa-whatsapp"></i> ÙˆØ§ØªØ³Ø§Ø¨
                        </button>
                        <button class="btn btn-primary" onclick="shareOnTelegram()">
                            <i class="fab fa-telegram"></i> ØªÙ„ÙŠØ¬Ø±Ø§Ù…
                        </button>
                    </div>
                    <div class="btn-group w-100">
                        <button class="btn btn-primary" onclick="shareOnFacebook()">
                            <i class="fab fa-facebook"></i> ÙÙŠØ³Ø¨ÙˆÙƒ
                        </button>
                        <button class="btn btn-info" onclick="shareOnTwitter()">
                            <i class="fab fa-twitter"></i> ØªÙˆÙŠØªØ±
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function copyBankAccounts() {
    const accountsText = `{{ settings.support_bank_accounts }}`;
    navigator.clipboard.writeText(accountsText).then(() => {
        alert('ØªÙ… Ù†Ø³Ø® Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¨Ù†ÙˆÙƒ Ø¨Ù†Ø¬Ø§Ø­!');
    });
}
function shareOnWhatsApp() {
    const siteUrl = window.location.origin;
    const text = `Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ø¯Ø¹ÙˆÙƒ Ù„Ø²ÙŠØ§Ø±Ø© Ù…Ø±ÙƒØ² {{ settings.site_name }} Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ğŸŒŸ

ğŸ“ {{ settings.site_description }}

ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: {{ settings.location_address or 'Ù…Ø£Ø±Ø¨ - Ø´Ø§Ø±Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø¹ÙŠÙ† - Ø®Ù„Ù Ù…Ø³ØªØ´ÙÙ‰ Ù†ÙŠÙˆÙ…' }}

ğŸŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø·:
${siteUrl}

ğŸ“ Ù„Ù„ØªÙˆØ§ØµÙ„: {{ settings.contact_phone or '' }}

ğŸ¯ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø±ÙƒØ²: {{ settings.support_message or 'Ù†ÙˆØ±ÙŒ Ù†ÙÙ‡Ø¯ÙŠÙ‡ ÙˆØ¬ÙŠÙ„ Ù†Ø±Ø¨ÙŠÙ‡' }}`;
    window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
}
function shareOnTelegram() {
    const siteUrl = window.location.origin;
    const text = `Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ø¯Ø¹ÙˆÙƒ Ù„Ø²ÙŠØ§Ø±Ø© Ù…Ø±ÙƒØ² {{ settings.site_name }} Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…

${siteUrl}

{{ settings.site_description }}

{{ settings.support_message or 'Ù†ÙˆØ±ÙŒ Ù†ÙÙ‡Ø¯ÙŠÙ‡ ÙˆØ¬ÙŠÙ„ Ù†Ø±Ø¨ÙŠÙ‡' }}`;
    window.open(`https://t.me/share/url?url=${encodeURIComponent(siteUrl)}&text=${encodeURIComponent(text)}`, '_blank');
}
function shareOnFacebook() {
    const siteUrl = window.location.origin;
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(siteUrl)}&quote=${encodeURIComponent('Ù…Ø±ÙƒØ² ' + '{{ settings.site_name }}' + ' - ' + '{{ settings.site_description }}')}`, '_blank');
}
function shareOnTwitter() {
    const siteUrl = window.location.origin;
    const text = `Ù…Ø±ÙƒØ² {{ settings.site_name }} - {{ settings.site_description }} - {{ settings.support_message or 'Ù†ÙˆØ±ÙŒ Ù†ÙÙ‡Ø¯ÙŠÙ‡ ÙˆØ¬ÙŠÙ„ Ù†Ø±Ø¨ÙŠÙ‡' }}`;
    window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(siteUrl)}&text=${encodeURIComponent(text)}`, '_blank');
}
</script>

<style>
.bank-accounts {
    white-space: pre-wrap;
    word-wrap: break-word;
    direction: ltr;
    text-align: left;
}
/* Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ */
.card.bg-light,
.card .bg-light {
    color: #000 !important;
}
.card.bg-light .text-muted,
.card .bg-light .text-muted {
    color: #6c757d !important;
}
/* ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠØŒ Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø¨ÙŠØ¶ */
.dark-mode .card.bg-light,
.dark-mode .card .bg-light {
    color: #fff !important;
    background-color: #2d3748 !important;
}
.dark-mode .card.bg-light .text-muted,
.dark-mode .card .bg-light .text-muted {
    color: #a0aec0 !important;
}
.dark-mode .card.bg-light .text-dark,
.dark-mode .card .bg-light .text-dark {
    color: #fff !important;
}
.dark-mode .bank-accounts {
    color: #fff !important;
}
</style>
{% endblock %}
