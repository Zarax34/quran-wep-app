{% extends "base.html" %}

{% block content %}
<div class="page-transition">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2"><i class="fas fa-hand-holding-heart"></i> ุงุฏุนู ุงููุฑูุฒ</h1>
    </div>

    <div class="row fade-in">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0"><i class="fas fa-donate"></i> ุชุจุฑุน ูุฏุนู ุงููุฑูุฒ</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <h6><i class="fas fa-info-circle"></i> ุฃูููุฉ ุงูุฏุนู:</h6>
                        <p class="mb-0">
                            {{ settings.support_message or 'ููุฑู ูููุฏูู ูุฌูู ูุฑุจูู' }}
                        </p>
                    </div>

                    <!-- ูุนูููุงุช ุงููููุน -->
                    <div class="mb-4">
                        <h5><i class="fas fa-map-marker-alt"></i> ูููุน ุงููุฑูุฒ</h5>
                        <div class="card bg-light">
                            <div class="card-body text-force-dark">
                                <p class="mb-2 text-dark">
                                    <i class="fas fa-location-dot text-primary"></i>
                                    {{ settings.location_address or 'ูุฃุฑุจ - ุดุงุฑุน ุงูุฃุฑุจุนูู - ุฎูู ูุณุชุดูู ูููู' }}
                                </p>
                                {% if settings.location_map_url %}
                                <a href="{{ settings.location_map_url }}" target="_blank" class="btn btn-primary btn-sm">
                                    <i class="fas fa-map"></i> ุนุฑุถ ุนูู ุงูุฎุฑูุทุฉ
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    {% if settings.support_bank_accounts %}
                    <div class="mb-4">
                        <h5><i class="fas fa-university"></i> ุญุณุงุจุงุช ุงูุจููู</h5>
                        <div class="card bg-light">
                            <div class="card-body">
                                <div class="bank-accounts text-dark" style="font-family: 'Courier New', monospace; line-height: 1.8;">
                                    {{ settings.support_bank_accounts }}
                                </div>
                            </div>
                        </div>
                        <div class="mt-2">
                            <button class="btn btn-outline-primary btn-sm" onclick="copyBankAccounts()">
                                <i class="fas fa-copy"></i> ูุณุฎ ุงูุญุณุงุจุงุช
                            </button>
                        </div>
                    </div>
                    {% endif %}

                    <div class="row">
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-book-open fa-3x text-primary mb-3"></i>
                                    <h5 class="text-dark">ุงููุชุจ ุงูุชุนููููุฉ</h5>
                                    <p class="text-muted">ุชูููุฑ ุงููุชุจ ูุงููุฑุงุฌุน ููุทูุงุจ</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-laptop fa-3x text-info mb-3"></i>
                                    <h5 class="text-dark">ุงูุชุฌููุฒุงุช ุงูุชูููุฉ</h5>
                                    <p class="text-muted">ุชุทููุฑ ุงููุธุงู ูุงูุจููุฉ ุงูุชุญุชูุฉ</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-user-graduate fa-3x text-success mb-3"></i>
                                    <h5 class="text-dark">ุงูููุญ ุงูุฏุฑุงุณูุฉ</h5>
                                    <p class="text-muted">ุฏุนู ุงูุทูุงุจ ุงููุชููููู</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card text-center mb-3 btn-hover">
                                <div class="card-body">
                                    <i class="fas fa-hands-helping fa-3x text-warning mb-3"></i>
                                    <h5 class="text-dark">ุจุฑุงูุฌ ุงูุชุทูุน</h5>
                                    <p class="text-muted">ุงููุณุงููุฉ ูู ุงูุฃูุดุทุฉ ูุงูุจุฑุงูุฌ</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card slide-in-left">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0"><i class="fas fa-question-circle"></i> ูุนูููุงุช ุงูุฏุนู</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <h6>ุทุฑู ุงูุฏุนู:</h6>
                        <ul>
                            <li>ุงูุชุญููู ุงูุจููู</li>
                            <li>ุงูุฏุนู ุงูุนููู</li>
                            <li>ุงูุชุทูุน</li>
                            <li>ูุดุฑ ุงูุฎูุฑ</li>
                        </ul>
                    </div>

                    <div class="mb-3">
                        <h6>ููุงุณุชูุณุงุฑ:</h6>
                        {% if settings.contact_phone %}
                        <p><i class="fas fa-phone"></i> {{ settings.contact_phone }}</p>
                        {% endif %}
                        {% if settings.contact_email %}
                        <p><i class="fas fa-envelope"></i> {{ settings.contact_email }}</p>
                        {% endif %}
                    </div>

                    <div class="alert alert-success">
                        <small>
                            <i class="fas fa-lightbulb"></i>
                            "{{ settings.support_message or 'ููุฑู ูููุฏูู ูุฌูู ูุฑุจูู' }}"
                        </small>
                    </div>

                    <div class="text-center">
                        <a href="{{ url_for('dashboard') }}" class="btn btn-primary btn-hover">
                            <i class="fas fa-home me-2"></i>ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ
                        </a>
                    </div>
                </div>
            </div>

            <div class="card mt-4 slide-in-left">
                <div class="card-header bg-info text-white">
                    <h5 class="card-title mb-0"><i class="fas fa-share-alt"></i> ุงูุดุฑ ุงูุฎูุฑ</h5>
                </div>
                <div class="card-body text-center">
                    <p class="mb-3">ุณุงุนุฏ ูู ูุดุฑ ุฑุณุงูุฉ ุงููุฑูุฒ ุจูู ูุนุงุฑูู ูุฃุตุฏูุงุฆู</p>
                    <div class="btn-group w-100 mb-3">
                        <button class="btn btn-success" onclick="shareOnWhatsApp()">
                            <i class="fab fa-whatsapp"></i> ูุงุชุณุงุจ
                        </button>
                        <button class="btn btn-primary" onclick="shareOnTelegram()">
                            <i class="fab fa-telegram"></i> ุชููุฌุฑุงู
                        </button>
                    </div>
                    <div class="btn-group w-100">
                        <button class="btn btn-primary" onclick="shareOnFacebook()">
                            <i class="fab fa-facebook"></i> ููุณุจูู
                        </button>
                        <button class="btn btn-info" onclick="shareOnTwitter()">
                            <i class="fab fa-twitter"></i> ุชููุชุฑ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function copyBankAccounts() {
    const accountsText = `{{ settings.support_bank_accounts }}`;
    navigator.clipboard.writeText(accountsText).then(() => {
        alert('ุชู ูุณุฎ ุญุณุงุจุงุช ุงูุจููู ุจูุฌุงุญ!');
    });
}
function shareOnWhatsApp() {
    const siteUrl = window.location.origin;
    const text = `ูุฑุญุจุงู! ุฃุฏุนูู ูุฒูุงุฑุฉ ูุฑูุฒ {{ settings.site_name }} ูุชุนููู ุงููุฑุขู ุงููุฑูู ๐

๐ {{ settings.site_description }}

๐ ุงููููุน: {{ settings.location_address or 'ูุฃุฑุจ - ุดุงุฑุน ุงูุฃุฑุจุนูู - ุฎูู ูุณุชุดูู ูููู' }}

๐ ููููู ุฒูุงุฑุฉ ุงููููุน ุนุจุฑ ุงูุฑุงุจุท:
${siteUrl}

๐ ููุชูุงุตู: {{ settings.contact_phone or '' }}

๐ฏ ุฑุณุงูุฉ ุงููุฑูุฒ: {{ settings.support_message or 'ููุฑู ูููุฏูู ูุฌูู ูุฑุจูู' }}`;
    window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
}
function shareOnTelegram() {
    const siteUrl = window.location.origin;
    const text = `ูุฑุญุจุงู! ุฃุฏุนูู ูุฒูุงุฑุฉ ูุฑูุฒ {{ settings.site_name }} ูุชุนููู ุงููุฑุขู ุงููุฑูู

${siteUrl}

{{ settings.site_description }}

{{ settings.support_message or 'ููุฑู ูููุฏูู ูุฌูู ูุฑุจูู' }}`;
    window.open(`https://t.me/share/url?url=${encodeURIComponent(siteUrl)}&text=${encodeURIComponent(text)}`, '_blank');
}
function shareOnFacebook() {
    const siteUrl = window.location.origin;
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(siteUrl)}&quote=${encodeURIComponent('ูุฑูุฒ ' + '{{ settings.site_name }}' + ' - ' + '{{ settings.site_description }}')}`, '_blank');
}
function shareOnTwitter() {
    const siteUrl = window.location.origin;
    const text = `ูุฑูุฒ {{ settings.site_name }} - {{ settings.site_description }} - {{ settings.support_message or 'ููุฑู ูููุฏูู ูุฌูู ูุฑุจูู' }}`;
    window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(siteUrl)}&text=${encodeURIComponent(text)}`, '_blank');
}
</script>

<style>
.bank-accounts {
    white-space: pre-wrap;
    word-wrap: break-word;
    direction: ltr;
    text-align: left;
}
/* ุถูุงู ุธููุฑ ุงููุต ุจุงูููู ุงูุฃุณูุฏ ูู ุงูุจุทุงูุงุช ุงูุจูุถุงุก */
.card.bg-light,
.card .bg-light {
    color: #000 !important;
}
.card.bg-light .text-muted,
.card .bg-light .text-muted {
    color: #6c757d !important;
}
/* ูู ุงููุถุน ุงูููููุ ุถูุงู ุธููุฑ ุงููุต ุจุงูููู ุงูุฃุจูุถ */
.dark-mode .card.bg-light,
.dark-mode .card .bg-light {
    color: #fff !important;
    background-color: #2d3748 !important;
}
.dark-mode .card.bg-light .text-muted,
.dark-mode .card .bg-light .text-muted {
    color: #a0aec0 !important;
}
.dark-mode .card.bg-light .text-dark,
.dark-mode .card .bg-light .text-dark {
    color: #fff !important;
}
.dark-mode .bank-accounts {
    color: #fff !important;
}
</style>
{% endblock %}
